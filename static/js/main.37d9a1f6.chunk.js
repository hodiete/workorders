(this["webpackJsonpfetch-api"]=this["webpackJsonpfetch-api"]||[]).push([[0],{22:function(e,r,t){e.exports=t(47)},27:function(e,r,t){},28:function(e,r,t){},47:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(16),c=t.n(o),s=(t(27),t(3)),i=t(17),l=t(18),u=t(20),d=t(19),m=t(21),h=(t(28),t(2)),p=t.n(h),f=t(4),k=t(5),w=t.n(k),v=t(6);function g(){return(g=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(v.workOrders);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){var r=e.order,t=e.workOrder,n=t.name,o=t.email,c=t.image,s=t.companyName,i=r.name,l=r.description,u=r.deadline;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"workorder"},a.a.createElement("h2",{className:"workorder__name"}," ",i),a.a.createElement("div",{className:"workorder__description"}," ",l)),a.a.createElement("div",{className:"workprofile"},a.a.createElement("img",{className:"profile__image",src:c,alt:""}),a.a.createElement("div",{className:"profile__information"},a.a.createElement("div",{className:"profile__name"}," ",n),a.a.createElement("div",{className:"profile__email"}," ",o),a.a.createElement("div",{className:"profile__companyName"},s))),a.a.createElement("div",{className:"workorder__dates"},new Date(u).toString()))};var O=function(e){var r=e.order,t=e.workOrders;return a.a.createElement(a.a.Fragment,null,t.map((function(e,t){return a.a.createElement(E,{key:t,workOrder:e,order:r})})))},y=function(e){function r(){var e,t;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(r)).call.apply(e,[this].concat(a)))).state={orders:[],workers:[],query:"",checked:!1,loading:!0},t.handleOrders=function(e){return t.setState({orders:e}),e},t.handleWorkers=function(e){return t.setState((function(r){return{workers:[].concat(Object(s.a)(r.workers),[e]),loading:!1}})),e},t.getAllWorkersOrder=function(e,r){return r.filter((function(r){return r.id===e.workerId}))},t.handleInputChange=function(e){t.setState({query:e.target.value})},t.handleCheckboxChange=function(e){t.setState({checked:e.target.checked})},t.sortOrders=function(e){return t.state.checked?e.sort((function(e,r){return r.deadline-e.deadline})):e.sort((function(e,r){return e.deadline-r.deadline}))},t.filterWorkersByName=function(e,r){return""===r?e:e.filter((function(e){return e.name.toLowerCase().includes(r)}))},t}return Object(m.a)(r,e),Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;try{(function(){return g.apply(this,arguments)})().then((function(r){var t=r.data;return e.handleOrders(t.orders)})).then((function(e){return function(e){var r=e.map((function(e){return e.workerId})),t=new Set(r),n=Object(s.a)(t).map(function(){var e=Object(f.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(v.workId,"/").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());return Promise.all(n)}(e)})).then((function(r){return r.map((function(r){var t=r.data;return e.handleWorkers(t.worker)}))}))}catch(r){console.log(r)}}},{key:"render",value:function(){var e=this,r=this.state,t=r.orders,n=r.workers,o=r.query,c=r.loading,s=this.filterWorkersByName(n,o);return a.a.createElement(a.a.Fragment,null,!c&&a.a.createElement("div",{className:"container"},a.a.createElement("input",{className:"input__search",type:"search",onChange:this.handleInputChange,value:o,placeholder:"Filter by worker name..."}),a.a.createElement("div",{className:"input__checkbox toggle-switch"},a.a.createElement("span",null,"Latest Order"),a.a.createElement("input",{type:"checkbox",id:"chkTest",name:"chkTest",onClick:this.handleCheckboxChange}),a.a.createElement("label",{htmlFor:"chkTest"},a.a.createElement("span",{className:"toggle-track"})),a.a.createElement("span",null,"Earliest Order")),a.a.createElement("div",{className:"workorder__container"},s.length>0?this.sortOrders(t).map((function(r,t){var n=e.getAllWorkersOrder(r,s);return a.a.createElement(O,{key:t,workOrders:n,order:r})})):a.a.createElement("div",{className:"no-results"},"No Work Orders Found"))))}}]),r}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e){e.exports=JSON.parse('{"workOrders":"https://www.hatchways.io/api/assessment/work_orders","workId":"https://www.hatchways.io/api/assessment/workers"}')}},[[22,1,2]]]);
//# sourceMappingURL=main.37d9a1f6.chunk.js.map